(window.webpackJsonpLevar_viewer=window.webpackJsonpLevar_viewer||[]).push([[0],{29:function(e,t,n){e.exports=n.p+"static/media/apple_1k.1b4ec3dd.hdr"},30:function(e,t,n){e.exports=n.p+"static/media/autoshop_1k.72921fcf.hdr"},31:function(e,t,n){e.exports=n.p+"static/media/m2tlya.6863ebb6.glb"},32:function(e,t,n){e.exports=n.p+"static/media/levAR_logo.629d3eb9.svg"},34:function(e,t,n){e.exports=n(46)},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(11),i=n.n(r),s=n(4),c=Object(s.combineReducers)({loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.loading;default:return e}}}),l=n(14),d=n(22),p=n(23),u=(n(44),n(18)),h=n.n(u),g=n(5),m=n(12),w=n(7),f=n(6),v=n(8),S=n(0),b=n(24),R=n(25),y=n(19),E=n(26),A=n(33),M=n(27),L=n(28),C=n(10),O=n(29),T=n.n(O),x=n(30),j=n.n(x),D=n(31),G=n.n(D),k={height:"1000px",width:"100%"},z=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(w.a)(this,Object(f.a)(t).call(this,e))).startStats=function(){console.log("startStats initiated"),n.stats=new b.a,n.StatsStatus=!0,n.mount.appendChild(n.stats.dom)},n.startlevARviewer=function(){var e=n.state.RendererAAStatus,t=n.state.PCLightsStatus,o=n.state.ToneMappingConfig,a=n.state.ToneMappingExposure,r=n.state.ColorSpace,i=n.state.ControlDampeningStatus,s=n.state.ControlDampeningFactor,c=n.state.ControlScrenPanning;console.log("setScene initiated"),n.perfStatus=0,n.width=n.mount.clientWidth,n.height=n.mount.clientHeight,n.scene=new S.nb,console.log("startCamera initiated"),n.camera=new S.Z(75,n.width/n.height,.2,3e3),console.log("setRenderer initiated"),n.renderer=new S.Jb({RendererAAStatus:e}),n.renderer.setSize(n.width,n.height),n.renderer.setPixelRatio(window.devicePixelRatio),n.mount.appendChild(n.renderer.domElement),console.log("setControls initiated"),n.controls=new R.a(n.camera,n.mount),console.log("setEnvironment initiated"),n.renderer.physicallyCorrectLights=t,n.renderer.toneMapping=o,n.renderer.toneMappingExposure=a,n.renderer.outputEncoding=r,n.levARpmremGenerator=new S.Y(n.renderer),(new y.a).setDataType(S.Db).load(j.a,(function(e){var t=n.levARpmremGenerator.fromEquirectangular(e).texture;n.levARpmremGenerator.dispose(),n.scene.environment=t})),n.levARpmremGenerator.compileEquirectangularShader(),(new y.a).setDataType(S.Db).load(T.a,(function(e){var t=n.levARpmremGenerator.fromEquirectangular(e).texture;n.levARpmremGenerator.dispose(),n.scene.background=t})),n.levARpmremGenerator.compileEquirectangularShader(),console.log("handleGLTF initiated"),(new E.a).load(G.a,(function(e){n.scene.add(e.scene)})),console.log("handleCamera initiated"),n.camera.position.set(0,15,50),n.controls.target.set(0,3,0),n.controls.enableDamping=i,n.controls.dampingFactor=s,n.controls.screenSpacePanning=c,n.controls.update(),n.levARcomposer=new A.a(n.renderer),n.levARcomposer.addPass(new M.a(n.scene,n.camera))},n.startLighting=function(){if(console.log("startLighting initiated"),n.perfStatus<2){L.a.init();var e=[],t=[],o=n.state.LightHelperStatus;e[0]=new S.lb(16777215,70,20,10),e[0].position.set(0,80,0),e[0].rotation.x=S.M.degToRad(-90),t[0]=new C.a(e[0]),e[0].add(t[0]),e[1]=new S.lb(16777215,70,20,10),e[1].position.set(0,-60,0),e[1].rotation.x=S.M.degToRad(90),t[1]=new C.a(e[1]),e[2]=new S.lb(16753920,70,20,10),e[2].position.set(60,35,60),e[2].rotation.z=S.M.degToRad(90),e[2].rotation.y=S.M.degToRad(45),t[2]=new C.a(e[2]),e[3]=new S.lb(255,70,20,10),e[3].position.set(60,-5,-60),e[3].rotation.z=S.M.degToRad(90),e[3].rotation.y=S.M.degToRad(135),t[3]=new C.a(e[3]),e[4]=new S.lb(255,70,20,10),e[4].position.set(-60,-5,60),e[4].rotation.z=S.M.degToRad(90),e[4].rotation.y=S.M.degToRad(-45),t[4]=new C.a(e[4]),e[5]=new S.lb(16753920,70,20,10),e[5].position.set(-60,35,-60),e[5].rotation.z=S.M.degToRad(90),e[5].rotation.y=S.M.degToRad(-135),t[5]=new C.a(e[5]),o&&(e[1].add(t[1]),e[2].add(t[2]),e[3].add(t[3]),e[4].add(t[4]),e[5].add(t[5])),e.forEach((function(e){e.castShadow=!0,n.scene.add(e)}))}},n.startRefGeo=function(){console.log("startRefGeo initiated");var e=new S.tb(4,64,64),t=new S.Q({color:8158332,metalness:1,roughness:0,side:S.n,flatShading:!1}),o=new S.Q({color:8158332,metalness:0,roughness:.8,side:S.n,flatShading:!1}),a=new S.Q({color:8158332,metalness:0,roughness:.05,side:S.n,flatShading:!1});n.heroSphereMirror=new S.O(e,t),n.heroSphereMirror.position.set(0,-10,0),n.heroSphereFlat=new S.O(e,o),n.heroSphereFlat.position.set(0,-10,12),n.heroSphereGlossy=new S.O(e,a),n.heroSphereGlossy.position.set(0,-10,-12),n.scene.add(n.heroSphereMirror,n.heroSphereFlat,n.heroSphereGlossy)},n.renderLoop=function(){n.requestID=window.requestAnimationFrame(n.renderLoop),n.levARcomposer.render(),n.StatsStatus&&n.stats.update()},n.handleWindowResize=function(){n.width=n.mount.clientWidth,n.height=n.mount.clientHeight,n.renderer.setSize(n.width,n.height),n.camera.aspect=n.width/n.height,n.camera.updateProjectionMatrix()},n.state={StatsStatus:"",LightHelperStatus:!0,RendererAAStatus:!0,PCLightsStatus:!0,ToneMappingConfig:S.a,ToneMappingExposure:3,ColorSpace:S.E,ControlDampeningStatus:!0,ControlDampeningFactor:!0,ControlScrenPanning:!0},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("You reached componentDidMount"),this.startStats(),this.startlevARviewer(),this.startRefGeo(),this.renderLoop(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){console.log("You reached componentWillUnmount"),window.removeEventListener("resize",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:k,className:"Shade",ref:function(t){return e.mount=t}})}}]),t}(o.Component),W=n(32),F=n.n(W),P=function(){return a.a.createElement("div",{className:"ScreenLoader"},a.a.createElement("img",{src:F.a,className:"Loading-logo",alt:"loading"}))},_=function(e){function t(){var e,n;Object(g.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).fetchImage=function(){var e,t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://shopifydependencies.s3.amazonaws.com/ar/dc_glb.glb",n.prev=1,n.next=4,h.a.awrap(fetch("https://shopifydependencies.s3.amazonaws.com/ar/dc_glb.glb"));case 4:e=n.sent,t=e.json(),console.log(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),null,null,[[1,9]])},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("app mounted"),this.props.setLoading(!0),this.fetchImage(),this.props.setLoading(!1)}},{key:"render",value:function(){var e=this.props.loading;return a.a.createElement("div",{className:"App"},e?a.a.createElement(P,null):a.a.createElement("div",{className:"modal"},a.a.createElement(z,null)))}}]),t}(o.Component),q=Object(l.b)((function(e){return{loading:e.loading}}),(function(e){return{setLoading:function(t){return e({type:"SET_LOADING",loading:t})}}}))(_);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=Object(s.createStore)(c,Object(d.composeWithDevTools)(Object(s.applyMiddleware)(p.a))),N=a.a.createElement(l.a,{store:I},a.a.createElement(q,null));i.a.render(N,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.c5e84ff5.chunk.js.map